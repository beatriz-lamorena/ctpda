<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:sec="https://joinfaces.org/security"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:fu="http://joinfaces.org/functions">

<ui:composition>
 
 	<c:set var="bean" value="#{datosExpedientesDatosExtractosBean}" />
 	
	<p:dialog id="dialogExtracto"
		header="#{mensaje['editar.extracto']}" modal="true"
	 	widgetVar="dialogExtracto" >
			
		<div style="width:850px">
			<div class="celda-form-block">
				<p:inputTextarea rows="15" id="textoExtracto" autoResize="false"
					value="#{bean.detalle.textoExtractoExpediente}" maxlength="15000" style="width:100%"
					disabled="#{!editable}" counter="cntTextoExtracto" counterTemplate="#{mensaje['counter.template']}"/>
			</div>
			<div class="contador-char"><h:outputText id="cntTextoExtracto" /></div>
		</div>

	    <div class="botonera-form" align="right">
			<p:commandButton icon="pi pi-check"
				id="btnAceptarExtracto" value="#{mensaje['aceptar']}"
				actionListener="#{bean.guardar}" process="@this, textoExtracto"
				update="@(.listado-extractos),
						formFormularioExpedientes:tabViewPestanasExpediente:panelListadoTramitesExpediente"
				oncomplete="if(args.saved) PF('dialogExtracto').hide()" >
			</p:commandButton>
			<p:commandButton icon="pi pi-times" value="#{mensaje['cerrar']}"
				oncomplete="PF('dialogExtracto').hide()" >
			</p:commandButton>
		</div>
	</p:dialog>

</ui:composition>
</html>